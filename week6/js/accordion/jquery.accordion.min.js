/**
 * jquery.accordion http://matoilic.github.com/jquery.accordion/
 *
 * @version v0.1.1
 * @author Mato Ilic <info@matoilic.ch>
 * @copyright 2013 Mato Ilic
 *
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(d){function i(a,b){var c=d(a);c.on("click accordion.open",b.handle,b,j);c.find(">li>"+b.panel).each(function(){var a=d(this),e,c;c=a.closest("li");if(!c.hasClass(b.staticClass)){e={height:a.height(),marginBottom:a.css("marginBottom"),marginTop:a.css("marginTop"),overflow:a.css("overflow"),paddingBottom:a.css("paddingBottom"),paddingTop:a.css("paddingTop")};if(h)e.opacity=1;d.data(c[0],"original",e);a.css(f).css({overflow:"hidden"})}});b.start>-1&&c.find(">li:nth-child("+b.start+")>"+b.handle).trigger("accordion.open")}
function j(a){var b=d(this).closest("li"),c,g,e={duration:a.data.duration,easing:a.data.easing,queue:false};c=b.closest("ul").find(">."+a.data.openClass);if(!(b.hasClass(a.data.staticClass)||b.is(c)&&!a.data.toggle)){if(a.data.multiple){if(b.hasClass(a.data.openClass))b.removeClass(a.data.openClass),e.complete=function(){d(this).hide()},b.find(">"+a.data.panel).css({overflow:"hidden"}).animate(f,e)}else c.removeClass(a.data.openClass),e.complete=function(){d(this).hide()},c.find(">"+a.data.panel).css({overflow:"hidden"}).animate(f,
e);if(!b.is(c))b.addClass(a.data.openClass),g=d.data(b[0],"original"),e.complete=function(){d(this).css({overflow:g.overflow})},b.find(">"+a.data.panel).show().animate(g,e)}}var h=function(){var a=navigator.userAgent,a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return a[1].msie&&parseInt(a[2])<8},f={height:0,marginBottom:0,marginTop:0,
paddingBottom:0,paddingTop:0};if(h)f.opacity=0;d.fn.accordion=function(a){var b=d.extend({handle:".handle",panel:".panel",openClass:"open",staticClass:"static",easing:"linear",duration:200,multiple:false,toggle:false,start:1},a||{});b.toggle=b.multiple||b.toggle;this.each(function(){i(this,b)});return this}})(jQuery);
